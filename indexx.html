<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Khushi Pay - Scanner Update</title>
    <script src="https://unpkg.com/html5-qrcode"></script>
    <style>
        body { font-family: sans-serif; text-align: center; background: #f4f4f4; margin: 0; }
        .app { max-width: 400px; margin: auto; background: white; min-height: 100vh; padding: 20px; }
        .card { background: #2c3e50; color: white; padding: 20px; border-radius: 15px; margin-bottom: 20px; }
        .btn-scan { background: #2ecc71; color: white; padding: 15px; border: none; border-radius: 10px; width: 100%; font-size: 18px; cursor: pointer; }
        #reader { width: 100%; margin-top: 20px; border: 2px solid #2ecc71; display: none; }
    </style>
</head>
<body>
    <div class="app">
        <h2>‡§ñ‡•Å‡§∂‡•Ä ‡§™‡•á (Khushi Pay)</h2>
        <div class="card">
            <p>‡§µ‡•â‡§≤‡•á‡§ü ‡§¨‡•à‡§≤‡•á‡§Ç‡§∏</p>
            <h1>‚Çπ <span id="bal">0.00</span></h1>
        </div>
        
        <button class="btn-scan" onclick="startScan()">üì∏ QR ‡§ï‡•ã‡§° ‡§∏‡•ç‡§ï‡•à‡§® ‡§ï‡§∞‡•á‡§Ç</button>
        
        <div id="reader"></div>
        
        <div id="result" style="margin-top:20px; display:none;">
            <input type="number" id="amt" placeholder="‡§Ö‡§Æ‡§æ‡§â‡§Ç‡§ü ‡§°‡§æ‡§≤‡•á‡§Ç">
            <button onclick="pay()" style="padding:10px; background:blue; color:white; border:none; margin-top:10px;">‡§™‡•á‡§Æ‡•á‡§Ç‡§ü ‡§ï‡§∞‡•á‡§Ç</button>
        </div>
    </div>

    <script>
        let balance = parseFloat(localStorage.getItem('bal')) || 100; // ‡§ü‡•á‡§∏‡•ç‡§ü ‡§ï‡•á ‡§≤‡§ø‡§è ‚Çπ100 ‡§¶‡§ø‡§è ‡§π‡•à‡§Ç
        document.getElementById('bal').innerText = balance.toFixed(2);

        function startScan() {
            document.getElementById('reader').style.display = 'block';
            const scanner = new Html5QrcodeScanner("reader", { fps: 10, qrbox: 250 });
            scanner.render((text) => {
                scanner.clear();
                document.getElementById('reader').style.display = 'none';
                document.getElementById('result').style.display = 'block';
                alert("‡§∏‡•ç‡§ï‡•à‡§® ‡§∏‡§´‡§≤: " + text);
            });
        }

        function pay() {
            let a = document.getElementById('amt').value;
            if(a > 0 && a <= balance) {
                balance -= a;
                localStorage.setItem('bal', balance);
                document.getElementById('bal').innerText = balance.toFixed(2);
                alert("‡§™‡•á‡§Æ‡•á‡§Ç‡§ü ‡§∏‡§´‡§≤!");
                document.getElementById('result').style.display = 'none';
            } else { alert("‡§¨‡•à‡§≤‡•á‡§Ç‡§∏ ‡§ï‡§Æ ‡§π‡•à!"); }
        }
    </script>
</body>
</html><!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Khushi Pay - Scanner Update</title>
    <script src="https://unpkg.com/html5-qrcode"></script>
    <style>
        body { font-family: sans-serif; text-align: center; background: #f4f4f4; margin: 0; }
        .app { max-width: 400px; margin: auto; background: white; min-height: 100vh; padding: 20px; }
        .card { background: #2c3e50; color: white; padding: 20px; border-radius: 15px; margin-bottom: 20px; }
        .btn-scan { background: #2ecc71; color: white; padding: 15px; border: none; border-radius: 10px; width: 100%; font-size: 18px; cursor: pointer; }
        #reader { width: 100%; margin-top: 20px; border: 2px solid #2ecc71; display: none; }
    </style>
</head>
<body>
    <div class="app">
        <h2>‡§ñ‡•Å‡§∂‡•Ä ‡§™‡•á (Khushi Pay)</h2>
        <div class="card">
            <p>‡§µ‡•â‡§≤‡•á‡§ü ‡§¨‡•à‡§≤‡•á‡§Ç‡§∏</p>
            <h1>‚Çπ <span id="bal">0.00</span></h1>
        </div>
        
        <button class="btn-scan" onclick="startScan()">üì∏ QR ‡§ï‡•ã‡§° ‡§∏‡•ç‡§ï‡•à‡§® ‡§ï‡§∞‡•á‡§Ç</button>
        
        <div id="reader"></div>
        
        <div id="result" style="margin-top:20px; display:none;">
            <input type="number" id="amt" placeholder="‡§Ö‡§Æ‡§æ‡§â‡§Ç‡§ü ‡§°‡§æ‡§≤‡•á‡§Ç">
            <button onclick="pay()" style="padding:10px; background:blue; color:white; border:none; margin-top:10px;">‡§™‡•á‡§Æ‡•á‡§Ç‡§ü ‡§ï‡§∞‡•á‡§Ç</button>
        </div>
    </div>

    <script>
        let balance = parseFloat(localStorage.getItem('bal')) || 100; // ‡§ü‡•á‡§∏‡•ç‡§ü ‡§ï‡•á ‡§≤‡§ø‡§è ‚Çπ100 ‡§¶‡§ø‡§è ‡§π‡•à‡§Ç
        document.getElementById('bal').innerText = balance.toFixed(2);

        function startScan() {
            document.getElementById('reader').style.display = 'block';
            const scanner = new Html5QrcodeScanner("reader", { fps: 10, qrbox: 250 });
            scanner.render((text) => {
                scanner.clear();
                document.getElementById('reader').style.display = 'none';
                document.getElementById('result').style.display = 'block';
                alert("‡§∏‡•ç‡§ï‡•à‡§® ‡§∏‡§´‡§≤: " + text);
            });
        }

        function pay() {
            let a = document.getElementById('amt').value;
            if(a > 0 && a <= balance) {
                balance -= a;
                localStorage.setItem('bal', balance);
                document.getElementById('bal').innerText = balance.toFixed(2);
                alert("‡§™‡•á‡§Æ‡•á‡§Ç‡§ü ‡§∏‡§´‡§≤!");
                document.getElementById('result').style.display = 'none';
            } else { alert("‡§¨‡•à‡§≤‡•á‡§Ç‡§∏ ‡§ï‡§Æ ‡§π‡•à!"); }
        }
    </script>
</body>
</html>